(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e,t,a){e.exports=a(31)},23:function(e,t,a){},24:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(10),o=a.n(r),i=(a(23),a(1)),c=a(4),u=a(5),l=a(7),h=a(6),p=a(8),m=a(15),d=(a(24),a(14)),E=a(9),v=[["ONE HUNDRED",100],["TWENTY",20],["TEN",10],["FIVE",5],["ONE",1],["QUARTER",.25],["DIME",.1],["NICKEL",.05],["PENNY",.01]],b=[["ONE HUNDRED",0],["TWENTY",0],["TEN",0],["FIVE",0],["ONE",0],["QUARTER",0],["DIME",0],["NICKEL",0],["PENNY",0]],g="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-6 col-lg-4 col-lg-offset-4",y={price:[0],totalShow:"",payment:0,priceShow:[],paymentShow:"",cid:[["ONE HUNDRED",0],["TWENTY",0],["TEN",0],["FIVE",0],["ONE",0],["QUARTER",0],["DIME",0],["NICKEL",0],["PENNY",0]],status:"",change:[["ONE HUNDRED",0],["TWENTY",0],["TEN",0],["FIVE",0],["ONE",0],["QUARTER",0],["DIME",0],["NICKEL",0],["PENNY",0]]},f=Object(E.b)({price:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.price,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDPRICE":return[].concat(Object(m.a)(e),[t.price]);case"REMOVEPRICE":return e.slice(0,e.indexOf(t.price)).concat(e.slice(e.indexOf(t.price)+1));case"RESETPRICE":return y.price;default:return e}},totalShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{totalShow:y.totalShow},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDTOTALSHOW":return{totalShow:t.show};case"REMOVETOTALSHOW":return{totalShow:y.totalShow};default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{payment:y.payment},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDPAYMENT":return{payment:t.payment};case"REMOVEPAYMENT":return{payment:y.payment};default:return e}},priceShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.priceShow,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDPRICESHOW":return[].concat(Object(m.a)(e),[t.priceShow]);case"REMOVEPRICESHOW":return e.slice(0,e.indexOf(t.priceShow)).concat(e.slice(e.indexOf(t.priceShow)+1));case"RESETPRICESHOW":return y.priceShow;default:return e}},paymentShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{paymentShow:y.paymentShow},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDPAYMENTSHOW":return{paymentShow:t.paymentShow};case"REMOVEPAYMENTSHOW":return{paymentShow:y.paymentShow};default:return e}},cid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.cid,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDCID":return t.cid;case"REMOVECID":return y.cid;default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:y.status},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDSTATUS":return{status:t.status};case"REMOVESTATUS":return{status:y.status};default:return e}},change:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.change,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDCHANGE":return t.change;case"REMOVECHANGE":return y.change;default:return e}}}),N=Object(E.c)(f),w=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return console.log(this.props.cid),s.a.createElement("div",{id:"information-input",className:"col-xs-12 col-md-6"},s.a.createElement("h2",{id:"information"},"Information"),s.a.createElement("div",null,s.a.createElement("p",null,"Price",s.a.createElement("strong",{id:"price-error-text",className:"red-text"})),s.a.createElement("input",{id:"price",type:"text",name:"price"}),s.a.createElement("button",{id:"add-item",type:"button",onClick:this.props.addGoods},"Add")),s.a.createElement("div",null,s.a.createElement("p",null,"Payment",s.a.createElement("strong",{id:"payment-error-text",className:"red-text"})),s.a.createElement("input",{id:"payment",type:"text",name:"payment",required:!0,onChange:this.props.handlePayment})),s.a.createElement("p",{id:"display-btn"},s.a.createElement("button",{id:"reset",className:"btn btn-default",type:"button",name:"reset",onClick:this.props.reset},"Reset"),s.a.createElement("button",{id:"calculateBtn",className:"btn btn-default",type:"button",name:"calculate",onClick:this.props.calculate},"Calculate")),s.a.createElement("h3",null,"Cash in drawer:"),s.a.createElement("div",{id:"display-input-list",className:"row"},s.a.createElement("ul",{id:"cash-in-drawer",className:"col-xs-6 col-md-6"},v.map((function(e){return s.a.createElement("li",{key:e[0].toString()},e[0]+": ")}))),s.a.createElement("ul",{id:"cash-in-drawer-value",className:"col-xs-6 col-md-6"},this.props.cid.map((function(e){return s.a.createElement("li",{key:e[0].toString()},e[1])})))))}}]),t}(s.a.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"col-xs-12 col-md-12"},s.a.createElement("p",null,s.a.createElement("button",{id:"unlock",className:"btn btn-default btn-block",type:"button",onClick:this.props.show},"Unlock Cash Setting")),s.a.createElement("div",{id:"cash-setting-div",className:"hidden"},s.a.createElement("h2",null,"Cash in drawer setting"),s.a.createElement("ul",{id:"remainder"},v.map((function(e){return s.a.createElement("li",{key:e[0].toString(),className:"row"},s.a.createElement("p",{className:"cash-left-name col-xs-12 col-md-6"},e[0]+": ",s.a.createElement("strong",{className:"error-text red-text"})),s.a.createElement("p",{className:"col-xs-12 col-md-6"},s.a.createElement("input",{type:"text",id:e[1].toString(),className:"cash-in-drawer-setting"})))}))),s.a.createElement("div",{id:"cash-setting-btn-wrapper",className:"row"},s.a.createElement("button",{id:"cash-submit",className:"btn btn-default "+g,type:"button",onClick:this.props.handleInput},"Submit"),s.a.createElement("button",{id:"cid-reset",className:"btn btn-default "+g,type:"button",onClick:this.props.resetCid},"Reset"))))}}]),t}(s.a.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){console.log(this.props.change);var e=this.props.change.map((function(e){return s.a.createElement("li",{key:e[0].toString(),className:"row"},s.a.createElement("p",{className:"col-xs-6 col-md-6"},e[0]+": "),s.a.createElement("p",{className:"col-xs-6 col-md-6"},e[1]))}));return s.a.createElement("div",{id:"result",className:"col-xs-12 col-md-6"},s.a.createElement("h2",null,"Result"),s.a.createElement("h3",null,"price: "),s.a.createElement("ul",{id:"price-result-list"},this.props.priceText.map((function(e){return s.a.createElement("li",{key:e.toString()},e)}))),s.a.createElement("h3",null,"total: ",this.props.totalShow),s.a.createElement("h3",null,"payment: ",this.props.paymentText),s.a.createElement("h3",null,"Change due"),s.a.createElement("p",null,s.a.createElement("strong",null,"Status: "+this.props.status)),s.a.createElement("div",{id:"result-list"},s.a.createElement("ul",{id:"result-list-value"},e)))}}]),t}(s.a.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={unlockBtn:!1,showHold:!0,cidChangeNum:0},a.calculate=a.calculate.bind(Object(i.a)(a)),a.handlePayment=a.handlePayment.bind(Object(i.a)(a)),a.handleInput=a.handleInput.bind(Object(i.a)(a)),a.reset=a.reset.bind(Object(i.a)(a)),a.show=a.show.bind(Object(i.a)(a)),a.addGoods=a.addGoods.bind(Object(i.a)(a)),a.resetCid=a.resetCid.bind(Object(i.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"addGoods",value:function(e){var t=document.getElementById("price"),a=document.getElementById("price-error-text");/[^0-9.]/.test(t.value)||/\..+\./.test(t.value)||/\.{2,}/.test(t.value)?(a.textContent=" Error!",t.value=""):t.value.slice(t.value.indexOf(".")).length>3?a.textContent=" Error!":""===t.value?t.value="0":(a.textContent="",!1===this.state.showHold?(this.setState({showHold:!0}),this.props.submitResetPrice(),this.props.submitResetPriceShow(),this.props.submitNewPrice(Number(t.value)),this.props.submitNewPriceShow(Number(t.value)),this.props.submitRemoveTotalShow(),this.props.submitRemovePaymentShow(),this.props.submitRemoveStatus(),this.props.submitRemoveChange()):(this.props.submitNewPrice(Number(t.value)),this.props.submitNewPriceShow(Number(t.value)))),t.value=""}},{key:"show",value:function(e){var t=document.getElementById("cash-setting-div"),a=document.getElementById("unlock");!1===this.state.unlockBtn?(t.classList.remove("hidden"),this.setState({unlockBtn:!0}),a.textContent="Lock Cash Setting"):(t.classList.add("hidden"),this.setState({unlockBtn:!1}),a.textContent="Unlock Cash Setting")}},{key:"resetCid",value:function(){for(var e=document.querySelectorAll(".cash-in-drawer-setting"),t=0;t<e.length;t++)e[t].value="";this.props.submitNewCid(b),this.setState({cidChangeNum:0})}},{key:"reset",value:function(e){this.props.submitResetPrice(),this.props.submitRemoveTotalShow(),this.props.submitRemovePayment(),this.props.submitResetPriceShow(),this.props.submitRemovePaymentShow(),this.props.submitRemoveStatus(),this.props.submitRemoveChange();var t=document.getElementById("price"),a=document.getElementById("payment");t.value="",a.value="",this.setState({unlockBtn:!1,showHold:!0})}},{key:"handlePayment",value:function(e){/[^0-9.]/.test(e.target.value)||/\..+\./.test(e.target.value)||/\.{2,}/.test(e.target.value)?(alert("Erro! Please try again!"),e.target.value="0"):e.target.value.slice(e.target.value.indexOf(".")).length>3?alert("Erro! Please try again!"):""===e.target.value?e.target.value="0":(this.props.submitNewPayment(Number(e.target.value)),this.props.submitNewPaymentShow(Number(e.target.value)))}},{key:"handleInput",value:function(){for(var e=this.props.cid,t=document.querySelectorAll(".cash-in-drawer-setting"),a=document.querySelectorAll(".error-text"),n=0,s=0;s<t.length;s++)/[^0-9.]/.test(t[s].value)||/\..+\./.test(t[s].value)||/\.{2,}/.test(t[s].value)?(a[s].textContent=" Error!",t[s].value="",n++):t[s].value.slice(t[s].value.indexOf(".")).length>3?(a[s].textContent=" Error!",n++):""===t[s].value?t[s].value="":(100*Number(t[s].value)).toFixed(0)%(100*v[s][1])===0?(e[s][1]+=(100*Number(t[s].value)).toFixed(0)/100,a[s].textContent=""):(t[s].value="",a[s].textContent=" Error!",n++);if(0===n){this.setState({cidChangeNum:this.state.cidChangeNum+1}),this.props.submitNewCid(e);for(var r=0;r<t.length;r++)t[r].value=""}}},{key:"calculate",value:function(){var e;!0===this.state.showHold&&this.setState({showHold:!1});var t=this.props.cid,a=this.props.price.reduce((function(e,t){return e+t}));console.log(this.props.price,a),this.props.submitNewTotalShow(a);var n=this.props.payment,s=this.props.cid;console.log(a,n);var r={status:"",change:[["ONE HUNDRED"],["TWENTY"],["TEN"],["FIVE"],["ONE"],["QUARTER"],["DIME"],["NICKEL"],["PENNY"]]},o=0,i=1,c=2,u=3,l=4,h=5,p=6,m=7,d=8;e=Math.round(100*(n-a)),console.log(e);var E=0,v=s[o][1]+s[i][1]+s[c][1]+s[u][1]+s[l][1]+s[h][1]+s[p][1]+s[m][1]+s[d][1];if((v*=100)<e)r.status="INSUFFICIENT_FUNDS",r.change=[],this.props.submitNewStatus(r.status),this.props.submitNewChange(r.change);else if(v===e)r.status="CLOSED",r.change=t.sort((function(e,t){return-(e-t)})),r.change=r.change.filter((function(e){return 0!==e[1]})),this.props.submitNewStatus(r.status),this.props.submitNewChange(r.change),this.props.submitRemoveCid(),this.setState({cidChangeNum:this.state.cidChangeNum+1});else{var b=Math.floor(e/1e4);100*b>s[8-d][1]?(E=e-100*s[d][1],r.change[8-d].push(s[d][1]),s[8-d][1]=0):(E=e%1e4,r.change[8-d].push(100*b),s[8-d][1]-=100*b);var g=Math.floor(E/2e3);20*g>s[8-m][1]?(E-=100*s[m][1],r.change[8-m].push(s[m][1]),s[8-m][1]=0):(E=e%1e4%2e3,r.change[8-m].push(20*g),s[8-m][1]-=20*g);var y=Math.floor(E/1e3);20*y>s[8-p][1]?(E-=100*s[p][1],r.change[8-p].push(s[p][1]),s[8-p][1]=0):(E=e%1e4%2e3%1e3,r.change[8-p].push(10*y),s[8-p][1]-=10*y);var f=Math.floor(E/500);5*f>s[8-h][1]?(E-=100*s[h][1],r.change[8-h].push(s[h][1]),s[8-h][1]=0):(E=e%1e4%2e3%1e3%500,r.change[8-h].push(5*f),s[8-h][1]-=5*f);var N=Math.floor(E/100);1*N>s[8-l][1]?(E-=100*s[l][1],r.change[8-l].push(s[l][1]),s[8-l][1]=0):(E=e%1e4%2e3%1e3%500%100,r.change[8-l].push(1*N),s[8-l][1]-=1*N);var w=Math.floor(E/25);.25*w>s[8-u][1]?(E-=100*s[u][1],r.change[8-u].push(s[u][1]),s[8-u][1]=0):(E=e%1e4%2e3%1e3%500%100%25,r.change[8-u].push(.25*w),s[8-u][1]-=.25*w);var S=Math.floor(E/10);.1*S>s[8-c][1]?(E-=100*s[c][1],r.change[8-c].push(s[c][1]),s[8-c][1]=0):(E=e%1e4%2e3%1e3%500%100%25%10,r.change[8-c].push(.1*S),s[8-c][1]-=.1*S);var O=Math.floor(E/5);.05*O>s[8-i][1]?(E-=100*s[i][1],r.change[8-i].push(s[i][1]),s[8-i][1]=0):(E=e%1e4%2e3%1e3%500%100%25%10%5,r.change[8-i].push(.05*O),s[8-i][1]-=.05*O);var C=Math.floor(E/1);.01*C>s[8-o][1]?(r.change=[],r.status="INSUFFICIENT_FUNDS",s=this.props.cid,this.props.submitNewStatus(r.status),this.props.submitNewChange(r.change)):(r.change[8-o].push(.01*C),s[8-o][1]-=.01*C,r.change=r.change.filter((function(e){return 0!==e[1]})),r.status="OPEN",this.props.submitNewStatus(r.status),this.props.submitNewChange(r.change),this.props.submitNewCid(s),this.setState({cidChangeNum:this.state.cidChangeNum+1}))}console.log(r);var R=document.getElementById("price"),P=document.getElementById("payment");R.value="0",P.value="0",this.props.submitResetPrice(),this.props.submitRemovePayment()}},{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2"},s.a.createElement(w,{price:this.props.price,payment:this.props.payment,cid:this.props.cid,addGoods:this.addGoods,handlePayment:this.handlePayment,calculate:this.calculate,reset:this.reset}),s.a.createElement(O,{change:this.props.change,status:this.props.status,priceText:this.props.priceShow,paymentText:this.props.paymentShow,totalShow:this.props.totalShow}),s.a.createElement(S,{handleInput:this.handleInput,show:this.show,resetCid:this.resetCid})))}}]),t}(s.a.Component),R=Object(d.b)((function(e){return{price:e.price,totalShow:e.totalShow.totalShow,payment:e.payment.payment,priceShow:e.priceShow,paymentShow:e.paymentShow.paymentShow,cid:e.cid,status:e.status.status,change:e.change}}),(function(e){return{submitNewPrice:function(t){e(function(e){return{type:"ADDPRICE",price:e}}(t))},submitRemovePrice:function(t){e(function(e){return{type:"REMOVEPRICE",price:e}}(t))},submitResetPrice:function(){e({type:"RESETPRICE"})},submitNewTotalShow:function(t){e({type:"ADDTOTALSHOW",show:t})},submitRemoveTotalShow:function(){e({type:"REMOVETOTALSHOW"})},submitNewPayment:function(t){e(function(e){return{type:"ADDPAYMENT",payment:e}}(t))},submitRemovePayment:function(){e({type:"REMOVEPAYMENT"})},submitNewPriceShow:function(t){e(function(e){return{type:"ADDPRICESHOW",priceShow:e}}(t))},submitRemovePriceShow:function(t){e(function(e){return{type:"REMOVEPRICESHOW",priceShow:e}}(t))},submitResetPriceShow:function(){e({type:"RESETPRICESHOW"})},submitNewPaymentShow:function(t){e(function(e){return{type:"ADDPAYMENTSHOW",paymentShow:e}}(t))},submitRemovePaymentShow:function(){e({type:"REMOVEPAYMENTSHOW"})},submitNewCid:function(t){e(function(e){return{type:"ADDCID",cid:e}}(t))},submitRemoveCid:function(){e({type:"REMOVECID"})},submitNewStatus:function(t){e(function(e){return{type:"ADDSTATUS",status:e}}(t))},submitRemoveStatus:function(){e({type:"REMOVESTATUS"})},submitNewChange:function(t){e(function(e){return{type:"ADDCHANGE",change:e}}(t))},submitRemoveChange:function(){e({type:"REMOVECHANGE"})}}}))(C),P=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,{store:N},s.a.createElement(R,null))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30);o.a.render(s.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.c433fdff.chunk.js.map